"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3318],{75510:function(Y,G,a){a.r(G),a.d(G,{default:function(){return Q}});var C=a(49677),E=a.n(C),M=a(15009),m=a.n(M),S=a(99289),g=a.n(S),b=a(12444),y=a.n(b),D=a(72004),F=a.n(D),A=a(25098),T=a.n(A),I=a(31996),L=a.n(I),B=a(26037),P=a.n(B),Z=a(9783),r=a.n(Z),z=a(39318),p=a(61456),R=a(21990),W=a(40877),h=a(18423),k=a(5461),o=h.Z.Three,w=h.Z.TWEEN,O=h.Z.dat,H=h.Z.Stats,N=h.Z.OrbitControls,U=h.Z.FontLoader,V=h.Z.TextGeometry,$=F()(function f(){var e=this;y()(this,f),r()(this,"container",void 0),r()(this,"camera",void 0),r()(this,"scene",void 0),r()(this,"renderer",void 0),r()(this,"controls",void 0),r()(this,"stats",void 0),r()(this,"animateFrame",void 0),r()(this,"group",void 0),r()(this,"cubeGroup",void 0),r()(this,"Geometrys",{}),r()(this,"Materials",{}),r()(this,"GuiInit",null),r()(this,"guiData",{x:.005,color:"#fafafa",autoRotate:!0}),r()(this,"init",function(){e.container=document.getElementById("WebGL-output-test");var i=e.container.clientWidth,n=e.container.clientHeight;e.scene=new o.Scene,e.camera=new o.PerspectiveCamera(60,i/n,.1,100),e.camera.position.x=0,e.camera.position.y=1,e.camera.position.z=4,e.camera.lookAt(e.scene.position),e.renderer=new o.WebGLRenderer,e.renderer.setPixelRatio(window.devicePixelRatio),e.renderer.setSize(i,n),e.renderer.shadowMap.enabled=!0,e.container.appendChild(e.renderer.domElement),e.controls=new N(e.camera,e.renderer.domElement),e.addThings(),e.addLight(),e.animate(),e.initStats(),e.initGui()}),r()(this,"destroy",function(){e.toggleGui(0),Object.values(e.Geometrys).forEach(function(i){i.dispose()}),Object.values(e.Materials).forEach(function(i){i.dispose()}),e.scene.clear(),e.renderer.dispose(),e.renderer.forceContextLoss(),e.camera=null,e.scene=null,e.renderer=null,e.GuiInit=null,e.stats=null,cancelAnimationFrame(e.animateFrame)}),r()(this,"initStats",function(){e.stats=new H,e.stats.showPanel(0),e.stats.dom.style.position="absolute",e.container.appendChild(e.stats.dom)}),r()(this,"initGui",function(){if(e.GuiInit){e.toggleGui();return}e.GuiInit=new O.GUI({}),e.GuiInit.domElement.style.position="absolute",e.GuiInit.domElement.style.right="10px",e.GuiInit.domElement.style.top="10px";var i=e.GuiInit.addFolder("\u63A7\u5236\u7A97\u53E3");i.add(e.guiData,"x",-.1,.1,.005).name("\u81EA\u8F6C\u901F\u5EA6"),i.addColor(e.guiData,"color").name("\u80CC\u666F\u989C\u8272"),i.open();var n=e.GuiInit.addFolder("cube position");n.add(e.cubeGroup.position,"x",-100,100,1),n.add(e.cubeGroup.position,"y",-100,100,1),n.add(e.cubeGroup.position,"z",-100,100,1),n.open();var s=e.GuiInit.addFolder("cube rotation");s.add(e.guiData,"autoRotate").name("\u81EA\u52A8\u65CB\u8F6C"),s.add(e.cubeGroup.rotation,"x",-3.14,3.14,.01),s.add(e.cubeGroup.rotation,"y",-3.14,3.14,.01),s.add(e.cubeGroup.rotation,"z",-3.14,3.14,.01),s.open()}),r()(this,"toggleGui",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!(!e.GuiInit||!e.GuiInit.domElement)){var n=e.GuiInit.domElement.style.display=="none"?"":"none";i==0&&(n="none"),e.GuiInit.domElement.style.display=n}}),r()(this,"addLight",function(){var i=new o.AmbientLight(6842472);e.scene.add(i);var n=new o.DirectionalLight(16711680);n.position.set(10,10,5),n.intensity=.8,n.castShadow=!0,n.shadow.mapSize.width=1920,n.shadow.mapSize.height=1920,n.shadow.camera.near=.1,n.shadow.camera.far=30,n.shadow.radius=10,e.scene.add(n)}),r()(this,"addThings",function(){var i=new o.AxesHelper(800);e.scene.add(i),e.group=new o.Group,e.scene.add(e.group),e.Geometrys.planeGeometry=new o.PlaneGeometry(4,4,1,1),e.Materials.planeMaterial=new o.MeshPhongMaterial({color:15395567});var n=new o.Mesh(e.Geometrys.planeGeometry,e.Materials.planeMaterial);n.rotation.x=-1,n.receiveShadow=!0,e.scene.add(n),e.Materials.lineMaterial=new o.LineBasicMaterial({color:255});var s=[];s.push(new o.Vector3(-1,0,0)),s.push(new o.Vector3(0,2,0)),s.push(new o.Vector3(1,0,0)),e.Geometrys.lineGeometry=new o.BufferGeometry().setFromPoints(s);var c=new o.Line(e.Geometrys.lineGeometry,e.Materials.lineMaterial);e.scene.add(c),e.cubeGroup=new o.Group,e.scene.add(e.cubeGroup),e.Geometrys.cubeGeometry=new o.BoxGeometry(1,1,1),e.Materials.cubeMaterial=new o.MeshPhongMaterial({color:16603607});var u=new o.Mesh(e.Geometrys.cubeGeometry,e.Materials.cubeMaterial);u.castShadow=!0,u.receiveShadow=!0,e.cubeGroup.add(u);var l=new U;l.load("../../helvetiker_regular.typeface.json",function(X){e.Geometrys.textGeometry=new V("Kay Awsome!!!",{font:X,size:.2,height:.1,curveSegments:12,bevelEnabled:!1,bevelThickness:5,bevelSize:2,bevelSegments:5}),e.Geometrys.textGeometry.computeBoundingBox(),e.Materials.textMaterial=new o.MeshPhongMaterial({color:780511,flatShading:!0});var x=new o.Mesh(e.Geometrys.textGeometry,e.Materials.textMaterial);x.position.set(-1,1,0),x.receiveShadow=!0,x.castShadow=!0,e.cubeGroup.add(x)}),e.initTween()}),r()(this,"initTween",function(){var i=new w.Tween(e.cubeGroup.position).to({x:1},1e3).start()}),r()(this,"animate",function(){e.stats&&e.stats.begin(),e.render(),w.update(),e.controls.update(),e.stats&&e.stats.end(),e.animateFrame=requestAnimationFrame(e.animate)}),r()(this,"render",function(){e.renderer.setClearColor(e.guiData.color,1),e.group.rotation.y-=e.guiData.x,e.guiData.autoRotate&&(e.cubeGroup.rotation.x+=e.guiData.x,e.cubeGroup.rotation.y+=e.guiData.x),e.renderer.render(e.scene,e.camera)})}),J=new $,j=J,t=a(85893),K=p.Z.Title,v=p.Z.Paragraph,d=p.Z.Text,Q=function(f){L()(i,f);var e=P()(i);function i(){var n;y()(this,i);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=e.call.apply(e,[this].concat(c)),r()(T()(n),"state",{}),n}return F()(i,[{key:"didShow",value:function(){var n=g()(m()().mark(function c(){return m()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:case"end":return l.stop()}},c)}));function s(){return n.apply(this,arguments)}return s}()},{key:"didMount",value:function(){var n=g()(m()().mark(function c(){return m()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:j.init();case 1:case"end":return l.stop()}},c)}));function s(){return n.apply(this,arguments)}return s}()},{key:"willUnmount",value:function(){j.destroy()}},{key:"render",value:function(){return E()(this.state),(0,t.jsxs)(R.Z,{title:"",children:[(0,t.jsx)(W.Z,{}),(0,t.jsxs)(p.Z,{children:[(0,t.jsx)(K,{level:3,children:"\u5F00\u59CB"}),(0,t.jsx)(v,{children:(0,t.jsx)(d,{children:"\u5728Three.js\u4E2D\uFF0C\u6027\u80FD\u76D1\u89C6\u5668\u88AB\u5C01\u88C5\u5728Stats\u7C7B\u4E2D\uFF1B\u7528\u6CD5\uFF1A"})}),(0,t.jsx)(v,{children:(0,t.jsxs)("div",{className:"codeBox",children:[(0,t.jsx)("p",{children:"var stats = new Stats();"}),(0,t.jsx)("p",{children:"stats.showPanel( 1 ); // 0: fps, 1: ms, 2: mb, 3+: custom"}),(0,t.jsx)("p",{children:"document.body.appendChild( stats.dom );"}),(0,t.jsx)("p",{children:"function animate() {"}),(0,t.jsx)("p",{children:"stats.begin();"}),(0,t.jsx)("p",{children:"// monitored code goes here"}),(0,t.jsx)("p",{children:"stats.end();"}),(0,t.jsx)("p",{children:"requestAnimationFrame( animate );"}),(0,t.jsx)("p",{children:"}"}),(0,t.jsx)("p",{children:"requestAnimationFrame( animate );"})]})}),(0,t.jsxs)(v,{children:[(0,t.jsx)(d,{children:"\u8F68\u9053\u63A7\u5236\u5668\uFF08OrbitControls\uFF09 \u7528\u6CD5\uFF1A"}),(0,t.jsx)("p",{children:(0,t.jsx)(d,{code:!0,children:"const controls = new THREE.OrbitControls( camera, renderer.domElement );"})}),(0,t.jsx)("p",{children:(0,t.jsx)(d,{code:!0,children:"controls.update();;"})})]}),(0,t.jsxs)(v,{children:[(0,t.jsx)(d,{children:"\u5728\u573A\u666F\u4E2D\u4EA7\u751F\u9634\u5F71\uFF0C\u6709\u51E0\u4E2A\u8981\u7D20\uFF1A"}),(0,t.jsxs)("p",{children:["1\u3001",(0,t.jsx)(d,{code:!0,children:"renderer.shadowMap.enabled = true"})]}),(0,t.jsxs)("p",{children:["2\u3001",(0,t.jsx)(d,{code:!0,children:"light.castShadow = true;"})," ","SpotLight\u6216\u8005DirectionalLight\u90FD\u53EF\u4EE5\uFF0C\u4F46\u706F\u5149\u4E0D\u80FD\u79BB\u7269\u4F53\u592A\u8FDC"]}),(0,t.jsxs)("p",{children:["3\u3001\u63A5\u6536\u9634\u5F71\u7684Mesh: ",(0,t.jsx)(d,{code:!0,children:"plane.receiveShadow = true;"})]}),(0,t.jsxs)("p",{children:["4\u3001\u4EA7\u751F\u9634\u5F71\u7684Mesh: ",(0,t.jsx)(d,{code:!0,children:"cube.castShadow = true;"})]}),(0,t.jsx)("p",{children:"5\u3001\u57FA\u4E8Elight.shadow\u7684\u76F8\u5173\u5C5E\u6027\u9ED8\u8BA4\u503C\uFF0C\u573A\u666F\u7684\u5927\u5C0F\u4E0D\u80FD\u592A\u5927\uFF0C\u53EF\u4EE5\u5148\u57280.1~100\u5185\u6D4B\u8BD5"}),(0,t.jsx)("p",{children:(0,t.jsx)("a",{href:"https://threejs.org/docs/index.html#api/zh/lights/shadows/LightShadow",children:"https://threejs.org/docs/index.html#api/zh/lights/shadows/LightShadow"})})]})]}),(0,t.jsx)("div",{id:"WebGL-output-test",style:{width:"600px",height:"600px",position:"relative"}})]})}}]),i}(z.Z)}}]);
